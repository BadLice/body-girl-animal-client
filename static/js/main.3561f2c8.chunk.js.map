{"version":3,"sources":["components/navbar.gamelist.jsx","components/create.game.modal.jsx","components/game.list.jsx","components/dropdown.score.jsx","components/user.input.jsx","components/confirm.button.jsx","components/hand.jsx","components/hands.jsx","components/total.row.jsx","components/navbar.game.jsx","components/game.loading.jsx","components/game.jsx","App.js","serviceWorker.js","index.js"],"names":["props","usernameRef","useRef","searchRef","submit","e","callback","preventDefault","stopPropagation","Navbar","className","bg","variant","Form","inline","onSubmit","saveUsername","current","value","trim","InputGroup","onChange","setUsernameSaved","Prepend","Text","id","role","aria-label","FormControl","ref","placeholder","aria-describedby","defaultValue","username","Button","onClick","disabled","usernameSaved","setSeatchText","createGame","type","handleClose","connection","emit","setShow","generateField","createRef","useState","fields","setFields","gameNameRef","valid","timer","setTimer","validateField","map","f","tv","isNaN","t","length","Number","Modal","show","onHide","Header","closeButton","Title","Body","FormText","newGameId","isInvalid","onBlur","field","i","key","Control","style","width","setField","splice","removeField","concat","ListGroup","users","user","Item","name","Footer","forEach","defaultTimer","gameId","columns","history","push","prefixUrl","games","useGames","searchText","showCreateGameModal","setShowCreateGameModal","setNewGameId","off","on","setGameId","filter","game","includes","Card","border","setGames","useEffect","data","toggle","handState","DropdownButton","onSelect","setInputScore","handId","inputIndex","as","title","Dropdown","eventKey","inputValid","inputRef","setInputValid","inputOnChange","setInputValue","index","character","v","toUpperCase","charAt","manageInputValid","size","state","input","score","button","hand","confirmHand","submitHand","handTotalScore","inputs","reduce","tot","showSpinner","Spinner","animation","j","hands","totalScore","Alert","scoreBoard","Popover","Content","sort","a","b","textColor","visibility","OverlayTrigger","trigger","placement","overlay","Label","quitGame","Heading","useTimer","useParams","success","gameExists","gameStarted","Table","striped","bordered","hover","responsive","c","handIndex","findIndex","h","setHands","handCharacter","useGameExists","setGameExists","useColumns","setColumns","useHands","userId","useSocketConnection","server","setCookie","setUsername","socket","setSocket","s","socketIOClient","reconnectionAttempts","timeout","transports","Object","keys","constructor","maxAge","useStarted","started","setStarted","res","Boolean","window","location","hostname","match","ReactDOM","render","useHistory","useCookies","setUsers","console","log","path","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","message"],"mappings":"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","file":"static/js/main.3561f2c8.chunk.js","sourcesContent":["\r\nimport React, { useRef } from 'react';\r\nimport { Button, Navbar, Form, InputGroup, FormControl } from 'react-bootstrap';\r\n\r\nexport default props => {\r\n    let usernameRef = useRef();\r\n    let searchRef = useRef();\r\n\r\n    const submit = (e, callback) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        if (callback) {\r\n            callback();\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navbar className=\"bg-light justify-content-between\" bg=\"dark\" variant=\"dark\">\r\n                <Form inline onSubmit={(e) => submit(e, () => props.saveUsername(usernameRef.current.value.trim()))}>\r\n                    <InputGroup className=\"mr-sm-2\" onChange={() => props.setUsernameSaved(usernameRef.current.value.trim() === '')}>\r\n                        <InputGroup.Prepend>\r\n                            <InputGroup.Text id=\"basic-addon1\">\r\n                                <span role=\"img\" aria-label=\"user-avatar-icon\">\r\n                                    👤\r\n                                </span>\r\n                            </InputGroup.Text>\r\n                        </InputGroup.Prepend>\r\n                        <FormControl\r\n                            ref={usernameRef}\r\n                            placeholder=\"Username\"\r\n                            aria-label=\"Username\"\r\n                            aria-describedby=\"basic-addon1\"\r\n                            defaultValue={props.username}\r\n                        />\r\n                    </InputGroup>\r\n                    <Button onClick={() => props.saveUsername(usernameRef.current.value.trim())} disabled={props.usernameSaved}>Save</Button>\r\n                </Form>\r\n                <Form inline onSubmit={(e) => submit(e, () => props.setSeatchText(searchRef.current.value.trim()))}>\r\n                    <Button variant=\"success\" className=\" mr-sm-2\" onClick={() => props.createGame()}>Create game</Button>\r\n                    <FormControl ref={searchRef} type=\"text\" placeholder=\"Type ID or name...\" className=\" mr-sm-2\" />\r\n                    <Button onClick={() => props.setSeatchText(searchRef.current.value.trim())}>Search</Button>\r\n                </Form>\r\n            </Navbar>\r\n        </>\r\n    );\r\n}","import React, { useState, useRef, createRef } from 'react';\r\nimport {\r\n\tModal,\r\n\tButton,\r\n\tForm,\r\n\tFormText,\r\n\tFormControl,\r\n\tListGroup\r\n} from 'react-bootstrap';\r\n\r\nexport default props => {\r\n\tconst handleClose = () => {\r\n\t\tprops.connection.emit('reqQuitGame');\r\n\t\tprops.setShow(false);\r\n\t};\r\n\tconst generateField = () => ({ value: '', ref: createRef() });\r\n\tconst [fields, setFields] = useState([generateField()]);\r\n\tconst gameNameRef = useRef();\r\n\tconst [timer, setTimer] = useState({\r\n\t\tvalid: true,\r\n\t\tvalue: 60,\r\n\t\tref: createRef()\r\n\t});\r\n\r\n\tconst submit = (e, callback) => {\r\n\t\te.preventDefault();\r\n\t\te.stopPropagation();\r\n\t\tif (callback) {\r\n\t\t\tcallback();\r\n\t\t}\r\n\t};\r\n\r\n\tconst validateField = () => {\r\n\t\tsetFields(\r\n\t\t\t[...fields].map(f => ({ ...f, valid: f.value.trim() !== '' }))\r\n\t\t);\r\n\r\n\t\tlet tv = !isNaN(timer.ref.current.value.trim());\r\n\t\tlet t = { ...timer };\r\n\t\tt.valid = tv;\r\n\t\tif (tv) {\r\n\t\t\tt.value =\r\n\t\t\t\ttimer.ref.current.value.trim().length === 0\r\n\t\t\t\t\t? 60\r\n\t\t\t\t\t: Number(timer.ref.current.value.trim());\r\n\t\t}\r\n\r\n\t\tsetTimer({\r\n\t\t\t...timer,\r\n\t\t\tvalid: t.valid,\r\n\t\t\tvalue: t.value\r\n\t\t});\r\n\t};\r\n\r\n\tconst startGame = () => {\r\n\t\tlet valid = true;\r\n\t\tfields.forEach(f => (valid &= f.valid));\r\n\t\tvalid &= timer.valid;\r\n\r\n\t\tif (valid) {\r\n\t\t\tprops.connection.emit('startGame', {\r\n\t\t\t\tdefaultTimer: timer.value,\r\n\t\t\t\tgameId: props.newGameId,\r\n\t\t\t\tname: gameNameRef.current.value.trim(),\r\n\t\t\t\tcolumns: fields.map(f => f.value.trim())\r\n\t\t\t});\r\n\t\t\tprops.history.push(props.prefixUrl+'/game/' + props.newGameId);\r\n\t\t\tprops.setShow(false);\r\n\t\t}\r\n\t};\r\n\r\n\tconst setField = (i, value) => {\r\n\t\tlet f = [...fields];\r\n\t\tf[i].value = f[i].ref.current.value.trim();\r\n\t\tsetFields(f);\r\n\t};\r\n\r\n\tconst addField = () => {\r\n\t\tsetFields([...fields].concat(generateField()));\r\n\t};\r\n\r\n\tconst removeField = i => {\r\n\t\tlet f = [...fields];\r\n\t\tf.splice(i, 1);\r\n\t\tsetFields(f);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Modal show={props.show} onHide={handleClose}>\r\n\t\t\t\t<Modal.Header closeButton>\r\n\t\t\t\t\t<Modal.Title>Create a game</Modal.Title>\r\n\t\t\t\t</Modal.Header>\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormText className='font-weight-bold'>ID</FormText>\r\n\t\t\t\t\t<FormText\r\n\t\t\t\t\t\tclassName='font-weight-bold text-danger'\r\n\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{props.newGameId}\r\n\t\t\t\t\t</FormText>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormText className='font-weight-bold'>Name</FormText>\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='Game name...'\r\n\t\t\t\t\t\tref={gameNameRef}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormText className='font-weight-bold'>Timer</FormText>\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\tplaceholder='60'\r\n\t\t\t\t\t\tref={timer.ref}\r\n\t\t\t\t\t\tisInvalid={!timer.valid}\r\n\t\t\t\t\t\tonBlur={validateField}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormText className='font-weight-bold'>Fields</FormText>\r\n\t\t\t\t\t{fields.map((field, i) => (\r\n\t\t\t\t\t\t<Form\r\n\t\t\t\t\t\t\tkey={i}\r\n\t\t\t\t\t\t\tinline\r\n\t\t\t\t\t\t\tclassName=' mt-1'\r\n\t\t\t\t\t\t\tonSubmit={e => submit(e)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Form.Control\r\n\t\t\t\t\t\t\t\tisInvalid={!field.valid}\r\n\t\t\t\t\t\t\t\tref={field.ref}\r\n\t\t\t\t\t\t\t\ttype='text'\r\n\t\t\t\t\t\t\t\tplaceholder='Istert field...'\r\n\t\t\t\t\t\t\t\tstyle={{ width: '80%' }}\r\n\t\t\t\t\t\t\t\tclassName=' mr-sm-1'\r\n\t\t\t\t\t\t\t\tonChange={() => setField(i)}\r\n\t\t\t\t\t\t\t\tvalue={field.value}\r\n\t\t\t\t\t\t\t\tonBlur={validateField}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t{fields.length > 1 ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='danger'\r\n\t\t\t\t\t\t\t\t\tclassName=' mr-sm-1'\r\n\t\t\t\t\t\t\t\t\tonClick={() => removeField(i)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t-\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t{i === fields.length - 1 ? (\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tvariant='success'\r\n\t\t\t\t\t\t\t\t\tclassName=' mr-sm-1'\r\n\t\t\t\t\t\t\t\t\tonClick={() => addField()}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t+\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Modal.Body>\r\n\r\n\t\t\t\t<Modal.Body>\r\n\t\t\t\t\t<FormText className='font-weight-bold'>\r\n\t\t\t\t\t\tUsers connected\r\n\t\t\t\t\t</FormText>\r\n\t\t\t\t\t<ListGroup>\r\n\t\t\t\t\t\t{props.users.map((user, i) => (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={i}>{user.name}</ListGroup.Item>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</ListGroup>\r\n\t\t\t\t</Modal.Body>\r\n\t\t\t\t<Modal.Footer>\r\n\t\t\t\t\t<Button variant='secondary' onClick={handleClose}>\r\n\t\t\t\t\t\tClose\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button variant='primary' onClick={startGame}>\r\n\t\t\t\t\t\tStart game\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Modal.Footer>\r\n\t\t\t</Modal>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Card, Button } from 'react-bootstrap';\r\nimport NavBar from './navbar.gamelist';\r\nimport CreateGameModal from './create.game.modal';\r\nexport default props => {\r\n\tlet games = useGames(props.connection);\r\n\tlet [searchText, setSeatchText] = useState('');\r\n\tconst [showCreateGameModal, setShowCreateGameModal] = useState(false);\r\n\tconst [newGameId, setNewGameId] = useState(null);\r\n\r\n\tconst createGame = () => {\r\n\t\tprops.connection.emit('reqCreateGame');\r\n\t\tprops.connection.off('getCreateGame');\r\n\t\tprops.connection.on('getCreateGame', gameId => {\r\n\t\t\tsetNewGameId(gameId);\r\n\t\t\tsetShowCreateGameModal(true);\r\n\t\t});\r\n\t};\r\n\r\n\tlet joinGame = gameId => {\r\n\t\tprops.history.push(props.prefixUrl + '/game/' + gameId);\r\n\t};\r\n\r\n\tlet gameFilter = game =>\r\n\t\tgame.id.includes(searchText) || game.name.includes(searchText);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavBar\r\n\t\t\t\tcreateGame={createGame}\r\n\t\t\t\tsetSeatchText={setSeatchText}\r\n\t\t\t\tsaveUsername={props.saveUsername}\r\n\t\t\t\tsetUsernameSaved={props.setUsernameSaved}\r\n\t\t\t\tusername={props.username}\r\n\t\t\t\tusernameSaved={props.usernameSaved}\r\n\t\t\t/>\r\n\t\t\t<CreateGameModal\r\n\t\t\t\tsetGameId={props.setGameId}\r\n\t\t\t\tshow={showCreateGameModal}\r\n\t\t\t\tnewGameId={newGameId}\r\n\t\t\t\tsetShow={setShowCreateGameModal}\r\n\t\t\t\tconnection={props.connection}\r\n\t\t\t\thistory={props.history}\r\n\t\t\t\tusers={props.users}\r\n\t\t\t/>\r\n\t\t\t{games.filter(gameFilter).map(game => (\r\n\t\t\t\t<Card key={game.id} border='primary' className='m-2 game-card'>\r\n\t\t\t\t\t<Card.Body>\r\n\t\t\t\t\t\t<Card.Title>{game.name}</Card.Title>\r\n\t\t\t\t\t\t<Card.Text>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<span className='border border-dark p-3 mt-3'>\r\n\t\t\t\t\t\t\t\t{game.users.map((user, i) => (\r\n\t\t\t\t\t\t\t\t\t<span key={i}>\r\n\t\t\t\t\t\t\t\t\t\t{user.name}\r\n\t\t\t\t\t\t\t\t\t\t{i !== game.users.length - 1 ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<>, </>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t''\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\tID:\r\n\t\t\t\t\t\t\t\t<span className='text-primary m-1'>\r\n\t\t\t\t\t\t\t\t\t{game.id}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t</Card.Text>\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tvariant='primary'\r\n\t\t\t\t\t\t\tonClick={() => joinGame(game.id)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\tJoin\r\n\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t</Card.Body>\r\n\t\t\t\t</Card>\r\n\t\t\t))}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nlet useGames = connection => {\r\n\tlet [games, setGames] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (connection) {\r\n\t\t\tconnection.emit('reqGames');\r\n\t\t\tconnection.on('getGames', data => setGames(data));\r\n\t\t\treturn () => {\r\n\t\t\t\tconnection.off('getCreateGame');\r\n\t\t\t\tconnection.off('getGames');\r\n\t\t\t};\r\n\t\t}\r\n\t}, [connection]);\r\n\r\n\treturn games;\r\n};\r\n","import React from 'react';\r\nimport { DropdownButton, InputGroup, Dropdown } from 'react-bootstrap';\r\n\r\nexport default props => {\r\n\r\n    let variant = '';\r\n    switch (props.toggle) {\r\n        case 0: variant = 'danger'; break;\r\n        case 5: variant = 'primary'; break;\r\n        case 10: variant = 'success'; break;\r\n        default: variant = 'danger'; break;\r\n    }\r\n    \r\n\r\n    return (\r\n        props.handState !== 'confirmed' ?\r\n            (\r\n                <InputGroup.Prepend>\r\n                    <InputGroup.Text className={variant}>{props.toggle}</InputGroup.Text>\r\n                </InputGroup.Prepend>\r\n            )\r\n            :\r\n            (\r\n                <DropdownButton\r\n                    disabled={props.disabled} onSelect={value => props.setInputScore(value, props.handId, props.inputIndex)}\r\n                    as={InputGroup.Prepend}\r\n                    variant={variant}\r\n                    title={props.toggle}\r\n                >\r\n                    <Dropdown.Item eventKey={0}>0</Dropdown.Item>\r\n                    {\r\n                        props.inputValid ?\r\n                            (\r\n                                <>\r\n                                    <Dropdown.Item eventKey={5}>5</Dropdown.Item>\r\n                                    <Dropdown.Item eventKey={10}>10</Dropdown.Item>\r\n                                </>\r\n                            )\r\n                            : ''\r\n                    }\r\n                </DropdownButton>\r\n            )\r\n    )\r\n\r\n}\r\n","import React, { useRef, useState } from 'react';\r\nimport Score from './dropdown.score';\r\nimport { InputGroup, FormControl } from 'react-bootstrap';\r\nimport { useEffect } from 'react';\r\n\r\nexport default props => {\r\n\tlet inputRef = useRef();\r\n\r\n\tlet [inputValid, setInputValid] = useState(true);\r\n\r\n\tlet manageInputValid = value => {\r\n\t\tlet v =\r\n\t\t\tvalue\r\n\t\t\t\t.trim()\r\n\t\t\t\t.toUpperCase()\r\n\t\t\t\t.charAt(0) === props.character.toUpperCase().charAt(0) ||\r\n\t\t\tvalue.length === 0;\r\n\t\tsetInputValid(v);\r\n\t};\r\n\r\n\tlet inputOnChange = value => {\r\n\t\tprops.setInputValue(value, props.handId, props.index, props.character);\r\n\t\tmanageInputValid(value);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.handState !== 'playing') {\r\n\t\t\tlet v =\r\n\t\t\t\tinputRef.current.value\r\n\t\t\t\t\t.trim()\r\n\t\t\t\t\t.toUpperCase()\r\n\t\t\t\t\t.charAt(0) === props.character.toUpperCase().charAt(0);\r\n\t\t\tsetInputValid(v);\r\n\r\n\t\t\tif (!inputValid) {\r\n\t\t\t\tinputRef.current.value = '';\r\n\t\t\t\tprops.setInputScore(0, props.handId, props.index);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [props.handState, inputValid]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<td className='align-middle'>\r\n\t\t\t\t<InputGroup size='sm' className='mb-3'>\r\n\t\t\t\t\t{props.state !== 'playing' ? (\r\n\t\t\t\t\t\t<Score\r\n\t\t\t\t\t\t\thandId={props.handId}\r\n\t\t\t\t\t\t\tinputIndex={props.index}\r\n\t\t\t\t\t\t\ttoggle={props.input.score}\r\n\t\t\t\t\t\t\thandState={props.handState}\r\n\t\t\t\t\t\t\tsetInputScore={props.setInputScore}\r\n\t\t\t\t\t\t\tinputValid={inputValid}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t''\r\n\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\tisInvalid={!inputValid}\r\n\t\t\t\t\t\tref={inputRef}\r\n\t\t\t\t\t\taria-label='Small'\r\n\t\t\t\t\t\taria-describedby='inputGroup-sizing-sm'\r\n\t\t\t\t\t\tdisabled={props.handState !== 'playing'}\r\n\t\t\t\t\t\tdefaultValue={props.input.value}\r\n\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\tinputOnChange(inputRef.current.value.trim())\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</InputGroup>\r\n\t\t\t</td>\r\n\t\t</>\r\n\t);\r\n};\r\n","\r\nimport React from 'react';\r\nimport { Button } from 'react-bootstrap';\r\n\r\nexport default props => {\r\n\r\n    let button;\r\n\r\n    switch (props.hand.state) {\r\n        case 'playing':\r\n            button = (\r\n                <Button variant=\"success\" onClick={() => props.confirmHand(props.hand.id)}>\r\n                    Confirm\r\n                </Button>\r\n            )\r\n            break;\r\n\r\n        case 'waiting':\r\n            button = (\r\n                <Button variant=\"success\" onClick={() => props.confirmHand(props.hand.id)} disabled>\r\n                    Confirmed\r\n                </Button>\r\n            )\r\n            break;\r\n\r\n        case 'confirmed':\r\n            button = (\r\n                <Button variant=\"primary\" onClick={() => props.submitHand(props.hand.id)}>\r\n                    Submit\r\n                </Button>\r\n            )\r\n            break;\r\n\r\n       default:\r\n            button = (\r\n               <h6>Submitted</h6>\r\n            )\r\n            break;\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <td className=\"align-middle\">\r\n                {button}\r\n            </td>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport UserInput from './user.input';\r\nimport ConfirmButton from './confirm.button';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nexport default props => {\r\n\tlet handTotalScore = props.hand.inputs.reduce(\r\n\t\t(tot, input) => tot + input.score,\r\n\t\t0\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<td className='align-middle'>\r\n\t\t\t\t{props.showSpinner && (\r\n\t\t\t\t\t<Spinner\r\n\t\t\t\t\t\tanimation='grow'\r\n\t\t\t\t\t\tvariant='success'\r\n\t\t\t\t\t\tclassName='float-left'\r\n\t\t\t\t\t/>\r\n\t\t\t\t)}\r\n\t\t\t\t{props.hand.character}\r\n\t\t\t</td>\r\n\t\t\t{props.hand.inputs.map((input, j) => (\r\n\t\t\t\t<UserInput\r\n\t\t\t\t\tkey={j}\r\n\t\t\t\t\tindex={j}\r\n\t\t\t\t\thandId={props.hand.id}\r\n\t\t\t\t\tcharacter={props.hand.character}\r\n\t\t\t\t\tinput={input}\r\n\t\t\t\t\thandState={props.hand.state}\r\n\t\t\t\t\tsetInputScore={props.setInputScore}\r\n\t\t\t\t\tsetInputValue={props.setInputValue}\r\n\t\t\t\t\tstate={props.hand.state}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t\t<ConfirmButton\r\n\t\t\t\thand={props.hand}\r\n\t\t\t\tconfirmHand={props.confirmHand}\r\n\t\t\t\tsubmitHand={props.submitHand}\r\n\t\t\t/>\r\n\t\t\t<td className='align-middle'>{handTotalScore}</td>\r\n\t\t</>\r\n\t);\r\n};\r\n","\r\nimport React from 'react';\r\nimport Hand from './hand'\r\n\r\nexport default props => {\r\n\r\n    return (\r\n        <>\r\n            {\r\n                props.hands.map(\r\n                    (hand, i) =>\r\n                        <tr key={i} className=\"text-center align-middle\">\r\n                            <Hand showSpinner={i===props.hands.length-1} hand={hand} setInputScore={props.setInputScore} setInputValue={props.setInputValue} confirmHand={props.confirmHand} submitHand={props.submitHand}/>\r\n                        </tr>\r\n                )\r\n            }\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nexport default props => {\r\n\r\n    let totalScore = props.hands.reduce((tot, hand) => tot + hand.inputs.reduce((tot, input) => tot + input.score, 0), 0);\r\n\r\n    return (\r\n        <>\r\n            <footer className=\"w-100 p-1 bg-dark text-white fixed-bottom\">\r\n                <Alert variant=\"primary\" className=\"float-right m-0\">\r\n                    {totalScore}\r\n                </Alert>\r\n                <Alert variant=\"none\" className=\"float-right m-0\">\r\n                    TOTAL\r\n                </Alert>\r\n            </footer>\r\n        </>\r\n    );\r\n}\r\n","import React from 'react';\r\nimport {\r\n\tButton,\r\n\tNavbar,\r\n\tForm,\r\n\tInputGroup,\r\n\tFormControl,\r\n\tPopover,\r\n\tOverlayTrigger,\r\n\tListGroup\r\n} from 'react-bootstrap';\r\n\r\nexport default props => {\r\n\tconst sortUsersByScore = (a, b) => a.score > b.score;\r\n\r\n\tconst scoreBoard = (\r\n\t\t<Popover id='scoreBoard'>\r\n\t\t\t<Popover.Title as='h3'>Scoreboard</Popover.Title>\r\n\t\t\t<Popover.Content>\r\n\t\t\t\t<ListGroup variant='flush'>\r\n\t\t\t\t\t{props.users.sort(sortUsersByScore).map((user, i) => {\r\n\t\t\t\t\t\tlet textColor = '';\r\n\t\t\t\t\t\tswitch (i) {\r\n\t\t\t\t\t\t\tcase 0:\r\n\t\t\t\t\t\t\t\ttextColor = 'text-success';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 2:\r\n\t\t\t\t\t\t\t\ttextColor = 'text-danger';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tcase 1:\r\n\t\t\t\t\t\t\t\ttextColor = 'text-warning';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\ttextColor = 'text-warning';\r\n\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t<ListGroup.Item key={i}>\r\n\t\t\t\t\t\t\t\t<div className='row'>\r\n\t\t\t\t\t\t\t\t\t<div className={'col-xs-6 mr-2 '}>\r\n\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\trole='img'\r\n\t\t\t\t\t\t\t\t\t\t\taria-label='King'\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tvisibility:\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ti === 0\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t? 'visible'\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t: 'hidden'\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t&#128081;\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{/* <div className={\"col-xs-6 mr-2 \"}>{(i + 1)}.</div> */}\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName={'col-xs-6 mr-2 ' + textColor}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{user.score}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className='col-xs-6 '>{user.name}</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</ListGroup.Item>\r\n\t\t\t\t\t\t);\r\n\t\t\t\t\t})}\r\n\t\t\t\t</ListGroup>\r\n\t\t\t</Popover.Content>\r\n\t\t</Popover>\r\n\t);\r\n\r\n\t// console.log(props.timer);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Navbar\r\n\t\t\t\tclassName='justify-content-between'\r\n\t\t\t\tbg='dark'\r\n\t\t\t\tvariant='dark'\r\n\t\t\t>\r\n\t\t\t\t<Form inline>\r\n\t\t\t\t\t<InputGroup className='mr-sm-2'>\r\n\t\t\t\t\t\t<InputGroup.Prepend>\r\n\t\t\t\t\t\t\t<InputGroup.Text id='basic-addon1'>\r\n\t\t\t\t\t\t\t\t<span role='img' aria-label='user-avatar-icon'>\r\n\t\t\t\t\t\t\t\t\t👤\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t</InputGroup.Text>\r\n\t\t\t\t\t\t</InputGroup.Prepend>\r\n\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\tplaceholder='Username'\r\n\t\t\t\t\t\t\taria-label='Username'\r\n\t\t\t\t\t\t\taria-describedby='basic-addon1'\r\n\t\t\t\t\t\t\tdefaultValue={props.username}\r\n\t\t\t\t\t\t\tdisabled\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</InputGroup>\r\n\r\n\t\t\t\t\t<OverlayTrigger\r\n\t\t\t\t\t\ttrigger='click'\r\n\t\t\t\t\t\tplacement='bottom'\r\n\t\t\t\t\t\toverlay={scoreBoard}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Button variant='info'>&#9776;</Button>\r\n\t\t\t\t\t</OverlayTrigger>\r\n\t\t\t\t</Form>\r\n\t\t\t\t<Form inline>\r\n\t\t\t\t\t<Form.Label className='mr-sm-2 text-warning h4'>\r\n\t\t\t\t\t\t{props.timer}\r\n\t\t\t\t\t</Form.Label>\r\n\t\t\t\t\t<Button variant='danger' onClick={() => props.quitGame()}>\r\n\t\t\t\t\t\tQuit game\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form>\r\n\t\t\t</Navbar>\r\n\t\t</>\r\n\t);\r\n};\r\n","import React from 'react';\r\nimport { ListGroup, Alert, Spinner} from 'react-bootstrap';\r\n\r\nexport default props => {\r\n    return (\r\n        <>\r\n            <Alert variant=\"info\" className=\"m-3\">\r\n                <Alert.Heading>\r\n                    Game is starting ...\r\n                    <Spinner animation=\"grow\" variant=\"danger\" className=\"float-right\" />\r\n                </Alert.Heading>\r\n                <hr />\r\n                <p>\r\n                    Connected users\r\n                </p>\r\n                <ListGroup>\r\n                    {\r\n                        props.users.map((user, i) =>\r\n                            <ListGroup.Item key={i}>{user.name}</ListGroup.Item>\r\n                        )\r\n                    }\r\n                </ListGroup>\r\n            </Alert>\r\n        </>\r\n    )\r\n\r\n}\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React, { useState, useEffect } from 'react';\r\nimport { Table, Alert } from 'react-bootstrap';\r\nimport Hands from './hands';\r\nimport TotalRow from './total.row';\r\nimport NavbarGame from './navbar.game';\r\nimport LoadingGame from './game.loading';\r\nimport { useParams } from 'react-router-dom';\r\nexport default props => {\r\n\tlet timer = useTimer(props.connection);\r\n\r\n\tlet { gameId } = useParams();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (gameId) props.setGameId(gameId);\r\n\t}, [gameId]);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (props.connection && props.gameId) {\r\n\t\t\tprops.connection.emit('reqJoinGame', props.gameId);\r\n\t\t\tprops.connection.off('getJoinGame');\r\n\t\t\tprops.connection.on('getJoinGame', success => {\r\n\t\t\t\tif (success) {\r\n\t\t\t\t\tprops.connection.emit('reqGameStarted', props.gameId);\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t\treturn () => props.connection.off('getJoinGame');\r\n\t\t}\r\n\t}, [props.connection, props.gameId]);\r\n\r\n\tlet quitGame = () => {\r\n\t\tprops.connection.emit('reqQuitGame');\r\n\t\tprops.connection.off('getQuitGame');\r\n\t\tprops.connection.on('getQuitGame', () =>\r\n\t\t\tprops.history.push(props.prefixUrl)\r\n\t\t);\r\n\t};\r\n\r\n\tlet setInputScore = (value, handId, inputIndex) => {\r\n\t\tlet handIndex = props.hands.findIndex(hand => hand.id === handId);\r\n\t\tlet h = [...props.hands];\r\n\t\th[handIndex].inputs[inputIndex].score = Number(value);\r\n\r\n\t\tprops.setHands(h);\r\n\t};\r\n\r\n\tlet setInputValue = (value, handId, inputIndex, handCharacter) => {\r\n\t\tif (\r\n\t\t\tvalue\r\n\t\t\t\t.trim()\r\n\t\t\t\t.toUpperCase()\r\n\t\t\t\t.charAt(0) === handCharacter.toUpperCase().charAt(0)\r\n\t\t) {\r\n\t\t\tlet handIndex = props.hands.findIndex(hand => hand.id === handId);\r\n\t\t\tlet h = [...props.hands];\r\n\t\t\th[handIndex].inputs[inputIndex].value = value;\r\n\r\n\t\t\tprops.setHands(h);\r\n\t\t}\r\n\t};\r\n\r\n\tlet confirmHand = handId => {\r\n\t\tlet handIndex = props.hands.findIndex(hand => hand.id === handId);\r\n\t\tlet h = [...props.hands];\r\n\t\th[handIndex].state = 'waiting';\r\n\r\n\t\tprops.setHands(h);\r\n\t};\r\n\r\n\tlet submitHand = handId => {\r\n\t\tlet handIndex = props.hands.findIndex(hand => hand.id === handId);\r\n\t\tlet h = [...props.hands];\r\n\t\th[handIndex].state = 'submitted';\r\n\r\n\t\tprops.setHands(h);\r\n\t};\r\n\r\n\tif (!props.gameExists) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<NavbarGame\r\n\t\t\t\t\tusername={props.username}\r\n\t\t\t\t\tquitGame={quitGame}\r\n\t\t\t\t\tusers={props.users}\r\n\t\t\t\t\ttimer={timer}\r\n\t\t\t\t/>\r\n\t\t\t\t<Alert variant='danger' className='m-3'>\r\n\t\t\t\t\t<Alert.Heading>ERROR 404</Alert.Heading>\r\n\t\t\t\t\t<p>Not found</p>\r\n\t\t\t\t\t<hr />\r\n\t\t\t\t\t<p className='mb-0'>This game does not exists!</p>\r\n\t\t\t\t</Alert>\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<NavbarGame\r\n\t\t\t\tusername={props.username}\r\n\t\t\t\tquitGame={quitGame}\r\n\t\t\t\tusers={props.users}\r\n\t\t\t\ttimer={timer}\r\n\t\t\t/>\r\n\r\n\t\t\t{props.gameStarted ? (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Table striped bordered hover responsive variant='dark'>\r\n\t\t\t\t\t\t<thead>\r\n\t\t\t\t\t\t\t<tr>\r\n\t\t\t\t\t\t\t\t{props.columns.map((c, i) => (\r\n\t\t\t\t\t\t\t\t\t<th key={i}>{c}</th>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</tr>\r\n\t\t\t\t\t\t</thead>\r\n\t\t\t\t\t\t<tbody>\r\n\t\t\t\t\t\t\t<Hands\r\n\t\t\t\t\t\t\t\thands={props.hands}\r\n\t\t\t\t\t\t\t\tsetInputScore={setInputScore}\r\n\t\t\t\t\t\t\t\tsetInputValue={setInputValue}\r\n\t\t\t\t\t\t\t\tconfirmHand={confirmHand}\r\n\t\t\t\t\t\t\t\tsubmitHand={submitHand}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</tbody>\r\n\t\t\t\t\t</Table>\r\n\t\t\t\t\t<TotalRow columns={props.columns} hands={props.hands} />\r\n\t\t\t\t</>\r\n\t\t\t) : (\r\n\t\t\t\t<LoadingGame users={props.users} />\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nconst useTimer = connection => {\r\n\tconst [timer, setTimer] = useState('sync...');\r\n\r\n\tuseEffect(() => {\r\n\t\tif (connection) {\r\n\t\t\tconnection.off('syncTimer');\r\n\t\t\tconnection.on('syncTimer', timer => setTimer(timer));\r\n\t\t\treturn () => connection.off('syncTimer');\r\n\t\t}\r\n\t}, [connection]);\r\n\r\n\treturn timer;\r\n};\r\n","import 'bootstrap/dist/css/bootstrap.min.css';\nimport React, { useEffect, useState } from 'react';\nimport socketIOClient from 'socket.io-client';\nimport GameList from './components/game.list';\nimport { useCookies } from 'react-cookie';\nimport Game from './components/game';\nimport { Switch, Route, useHistory } from 'react-router-dom';\n\nexport default () => {\n\t// let server = 'http://192.168.1.69:15519';\n\tlet server = 'http://worddd.cloudno.de';\n\tlet prefixUrl = '/body-girl-animal-client';\n\n\tconst history = useHistory();\n\n\tconst [{ userId }, setCookie] = useCookies(['body-girl-animal-userId']);\n\tlet [usernameSaved, setUsernameSaved] = useState(false);\n\tlet [username, setUsername] = useState(null);\n\n\tlet connection = useSocketConnection(\n\t\tserver,\n\t\tuserId,\n\t\tsetCookie,\n\t\tsetUsername,\n\t\tsetUsernameSaved\n\t);\n\n\t// let gameId = useQuery().get('id');\n\tlet [gameId, setGameId] = useState('');\n\n\tlet [gameExists] = useGameExists(gameId, connection);\n\tlet [gameStarted] = useStarted(gameExists, gameId, userId, connection);\n\tlet [columns, setColumns] = useColumns(\n\t\tgameId,\n\t\tconnection,\n\t\tgameExists,\n\t\tgameStarted\n\t);\n\tlet [hands, setHands] = useHands(\n\t\tgameId,\n\t\tconnection,\n\t\tuserId,\n\t\tgameExists,\n\t\tgameStarted\n\t);\n\tconst [users, setUsers] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (connection && userId && gameId && hands) {\n\t\t\tconnection.off('handTimeout');\n\t\t\tconnection.on('handTimeout', () => {\n\t\t\t\tconsole.log('handTimeout');\n\t\t\t\tconnection.emit('handTimeoutClientResponse', {\n\t\t\t\t\thands: hands,\n\t\t\t\t\tuserId: userId,\n\t\t\t\t\tgameId: gameId\n\t\t\t\t});\n\t\t\t});\n\t\t}\n\t}, [connection, userId, gameId, hands]);\n\n\tuseEffect(() => {\n\t\tif (connection) {\n\t\t\tconnection.off('getUsersConnected');\n\t\t\tconnection.on('getUsersConnected', users => setUsers(users));\n\t\t\treturn () => connection.off('getUsersConnected');\n\t\t}\n\t}, [connection]);\n\n\tlet saveUsername = value => {\n\t\tconnection.emit('reqSaveUsername', { id: userId, name: value });\n\t\tconnection.off('getSaveUsername');\n\t\tconnection.on(\n\t\t\t'getSaveUsername',\n\t\t\tsuccess => success && setUsernameSaved(true) && setUsername(value)\n\t\t);\n\t};\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route path={prefixUrl + '/game/:gameId'}>\n\t\t\t\t<Game\n\t\t\t\t\tconnection={connection}\n\t\t\t\t\tsetColumns={setColumns}\n\t\t\t\t\tsetHands={setHands}\n\t\t\t\t\tsaveUsername={saveUsername}\n\t\t\t\t\tusernameSaved={usernameSaved}\n\t\t\t\t\tsetUsernameSaved={setUsernameSaved}\n\t\t\t\t\tusername={username}\n\t\t\t\t\tcolumns={columns}\n\t\t\t\t\thands={hands}\n\t\t\t\t\tgameId={gameId}\n\t\t\t\t\thistory={history}\n\t\t\t\t\tgameExists={gameExists}\n\t\t\t\t\tusers={users}\n\t\t\t\t\tgameStarted={gameStarted}\n\t\t\t\t\tsetGameId={setGameId}\n\t\t\t\t\tprefixUrl={prefixUrl}\n\t\t\t\t/>\n\t\t\t</Route>\n\n\t\t\t<Route>\n\t\t\t\t<GameList\n\t\t\t\t\tconnection={connection}\n\t\t\t\t\tsetColumns={setColumns}\n\t\t\t\t\tsetHands={setHands}\n\t\t\t\t\tsaveUsername={saveUsername}\n\t\t\t\t\tusernameSaved={usernameSaved}\n\t\t\t\t\tsetUsernameSaved={setUsernameSaved}\n\t\t\t\t\tusername={username}\n\t\t\t\t\tgameId={gameId}\n\t\t\t\t\thistory={history}\n\t\t\t\t\tusers={users}\n\t\t\t\t\tgameStarted={gameStarted}\n\t\t\t\t\tsetGameId={setGameId}\n\t\t\t\t\tprefixUrl={prefixUrl}\n\t\t\t\t/>\n\t\t\t</Route>\n\t\t</Switch>\n\t);\n};\n\nlet useGameExists = (gameId, connection) => {\n\tlet [gameExists, setGameExists] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (connection && gameId) {\n\t\t\tconnection.emit('reqGameExists', gameId);\n\t\t\tconnection.on('getGameExists', gameExists =>\n\t\t\t\tsetGameExists(gameExists)\n\t\t\t);\n\t\t\treturn () => connection.off('getGameExists');\n\t\t}\n\t}, [connection, gameId]);\n\n\treturn [gameExists, setGameExists];\n};\n\nlet useColumns = (gameId, connection, gameExists, gameStarted) => {\n\tlet [columns, setColumns] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (connection && gameId && gameExists && gameStarted) {\n\t\t\tconnection.emit('reqColumns', gameId);\n\t\t\tconnection.off('getColumns');\n\t\t\tconnection.on('getColumns', columns =>\n\t\t\t\tsetColumns(\n\t\t\t\t\t['Character'].concat(columns.concat(['Actions', 'Total']))\n\t\t\t\t)\n\t\t\t);\n\t\t\treturn () => connection.off('getColumns');\n\t\t}\n\t}, [gameId, connection, gameExists, gameStarted]);\n\n\treturn [columns, setColumns];\n};\n\nlet useHands = (gameId, connection, userId, gameExists, gameStarted) => {\n\tlet [hands, setHands] = useState([]);\n\n\tuseEffect(() => {\n\t\tif (connection && gameId && gameExists && gameStarted) {\n\t\t\tconnection.emit('reqHands', { gameId: gameId, userId: userId });\n\t\t\tconnection.off('getHands');\n\t\t\tconnection.on('getHands', hands => setHands(hands));\n\n\t\t\treturn () => {\n\t\t\t\tconnection.off('handTimeout');\n\t\t\t\tconnection.off('getHands');\n\t\t\t};\n\t\t}\n\t}, [gameId, connection, userId, gameExists, gameStarted]);\n\n\treturn [hands, setHands];\n};\n\nlet useSocketConnection = (\n\tserver,\n\tuserId,\n\tsetCookie,\n\tsetUsername,\n\tsetUsernameSaved\n) => {\n\tlet [socket, setSocket] = useState(null);\n\n\tuseEffect(() => {\n\t\tvar connectionOptions = {\n\t\t\t'force new connection': true,\n\t\t\treconnectionAttempts: 'Infinity', //avoid having user reconnect manually in order to prevent dead clients after a server restart\n\t\t\ttimeout: 10000, //before connect_error and connect_timeout are emitted.\n\t\t\ttransports: ['websocket']\n\t\t};\n\t\tconst s = socketIOClient(server, connectionOptions);\n\n\t\tif (\n\t\t\t!userId ||\n\t\t\t(Object.keys(userId).length === 0 && userId.constructor === Object)\n\t\t) {\n\t\t\ts.emit('reqUserId');\n\t\t} else {\n\t\t\ts.emit('reqUsername', userId);\n\t\t}\n\n\t\ts.off('getUsername');\n\t\ts.on('getUsername', username => {\n\t\t\tsetUsername(username);\n\t\t\tsetUsernameSaved(true);\n\t\t});\n\t\ts.off('getUserId');\n\t\ts.on(\n\t\t\t'getUserId',\n\t\t\tuser =>\n\t\t\t\tsetCookie('userId', user.id, { maxAge: 3600 * 8 }) &&\n\t\t\t\tsetUsername(user.name)\n\t\t);\n\n\t\tsetSocket(s);\n\n\t\treturn () => {\n\t\t\ts.off('getUsername');\n\t\t\ts.off('getUserId');\n\t\t};\n\t}, [server, userId, setCookie, setUsername, setUsernameSaved]);\n\n\treturn socket;\n};\n\nconst useStarted = (gameExists, gameId, userId, connection) => {\n\tlet [started, setStarted] = useState(false);\n\n\tuseEffect(() => {\n\t\tif (connection && gameId && gameExists && userId) {\n\t\t\tconnection.emit('reqGameStarted', gameId);\n\t\t\tconnection.off('getGameStarted');\n\t\t\tconnection.on('getGameStarted', res => setStarted(res));\n\t\t\treturn () => connection.off('getGameStarted');\n\t\t}\n\t}, [gameExists, gameId, userId, connection]);\n\n\treturn [started, setStarted];\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport {\n    BrowserRouter as Router,\n} from \"react-router-dom\";\n \nReactDOM.render(<Router><App /></Router>, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}