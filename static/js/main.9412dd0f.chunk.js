(this["webpackJsonpbody-girl-animal-client"]=this["webpackJsonpbody-girl-animal-client"]||[]).push([[0],{103:function(e,a){},111:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(19),l=t.n(c),i=(t(73),t(24)),u=t(9),m=(t(74),t(116)),s=t(59),d=t.n(s),o=t(120),f=t(62),b=t(119),E=t(117),p=t(114),g=t(61),v=function(e){var a=Object(n.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"bg-light justify-content-between",bg:"dark",variant:"dark"},r.a.createElement(E.a,{inline:!0},r.a.createElement(p.a,{className:"mr-sm-2",onChange:function(){return e.setUsernameSaved(""===a.current.value.trim())}},r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{id:"basic-addon1"},r.a.createElement("span",{role:"img","aria-label":"user-avatar-icon"},"\ud83d\udc64"))),r.a.createElement(g.a,{ref:a,placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",defaultValue:e.username})),r.a.createElement(f.a,{onClick:function(){return e.saveUsername(a.current.value.trim())},disabled:e.usernameSaved},"Save")),r.a.createElement(E.a,{inline:!0},r.a.createElement(g.a,{type:"text",placeholder:"Type ID or name...",className:" mr-sm-2"}),r.a.createElement(f.a,{type:"submit"},"Search"))))},h=function(e){var a=I(e.connection);return r.a.createElement(r.a.Fragment,null,r.a.createElement(v,{saveUsername:e.saveUsername,setUsernameSaved:e.setUsernameSaved,username:e.username,usernameSaved:e.usernameSaved}),a.map((function(a){return r.a.createElement(o.a,{key:a.id,border:"primary",className:"m-2 game-card"},r.a.createElement(o.a.Body,null,r.a.createElement(o.a.Title,null,a.name),r.a.createElement(o.a.Text,null,r.a.createElement("br",null),r.a.createElement("span",{className:"border border-dark p-3 mt-3"},a.users.map((function(e,t){return r.a.createElement("span",{key:t},e.name,t!==a.users.length-1?r.a.createElement(r.a.Fragment,null,", "):"")}))),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("span",null,"ID:",r.a.createElement("span",{className:"text-primary m-1"},a.id))),r.a.createElement(f.a,{variant:"primary",onClick:function(){return t=a.id,e.connection.emit("reqJoinGame",t),void e.connection.on("getJoinGame",(function(a){a?e.setGameId(t):e.setGameId(null)}));var t}},"Join")))})))},I=function(e){var a=Object(n.useState)([]),t=Object(u.a)(a,2),r=t[0],c=t[1];return Object(n.useEffect)((function(){e&&(e.emit("reqGames"),e.on("getGames",(function(e){return c(e)})))}),[e]),r},S=t(115),y=t(37),j=function(e){var a="";switch(e.toggle){case 0:a="danger";break;case 5:a="primary";break;case 10:a="success";break;default:a="danger"}return"confirmed"!==e.handState?r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{className:a},e.toggle)):r.a.createElement(S.a,{disabled:e.disabled,onSelect:function(a){return e.setInputScore(a,e.handId,e.inputIndex)},as:p.a.Prepend,variant:a,title:e.toggle},r.a.createElement(y.a.Item,{eventKey:0},"0"),r.a.createElement(y.a.Item,{eventKey:5},"5"),r.a.createElement(y.a.Item,{eventKey:10},"10"))},O=function(e){var a=Object(n.useRef)();return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"align-middle"},r.a.createElement(p.a,{size:"sm",className:"mb-3"},"playing"!==e.state?r.a.createElement(j,{handId:e.handId,inputIndex:e.index,toggle:e.input.score,handState:e.handState,setInputScore:e.setInputScore}):"",r.a.createElement(g.a,{ref:a,"aria-label":"Small","aria-describedby":"inputGroup-sizing-sm",disabled:"playing"!==e.handState,defaultValue:e.input.value,onBlur:function(){return e.setInputValue(a.current.value,e.handId,e.index)}}))))},k=function(e){var a;switch(e.hand.state){case"playing":a=r.a.createElement(f.a,{variant:"success",onClick:function(){return e.confirmHand(e.hand.id)}},"Confirm");break;case"waiting":a=r.a.createElement(f.a,{variant:"success",onClick:function(){return e.confirmHand(e.hand.id)},disabled:!0},"Confirmed");break;case"confirmed":a=r.a.createElement(f.a,{variant:"primary",onClick:function(){return e.submitHand(e.hand.id)}},"Submit");break;default:a=r.a.createElement("h6",null,"Submitted")}return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"align-middle"},a))},x=function(e){var a=e.hand.inputs.reduce((function(e,a){return e+a.score}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("td",{className:"align-middle"},e.hand.character),e.hand.inputs.map((function(a,t){return r.a.createElement(O,{key:t,index:t,handId:e.hand.id,input:a,handState:e.hand.state,setInputScore:e.setInputScore,setInputValue:e.setInputValue,state:e.hand.state})})),r.a.createElement(k,{hand:e.hand,confirmHand:e.confirmHand,submitHand:e.submitHand}),r.a.createElement("td",{className:"align-middle"},a))},N=function(e){return r.a.createElement(r.a.Fragment,null,e.hands.map((function(a,t){return r.a.createElement("tr",{key:t,className:"text-center align-middle"},r.a.createElement(x,{hand:a,setInputScore:e.setInputScore,setInputValue:e.setInputValue,confirmHand:e.confirmHand,submitHand:e.submitHand}))})))},U=t(121),w=function(e){var a=e.hands.reduce((function(e,a){return e+a.inputs.reduce((function(e,a){return e+a.score}),0)}),0);return r.a.createElement(r.a.Fragment,null,r.a.createElement("footer",{className:"w-100 p-1 bg-dark text-white fixed-bottom"},r.a.createElement(U.a,{variant:"primary",className:"float-right m-0"},a),r.a.createElement(U.a,{variant:"none",className:"float-right m-0"},"TOTAL")))},H=t(118),C=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(b.a,{className:"justify-content-between",bg:"dark",variant:"dark"},r.a.createElement(E.a,{inline:!0},r.a.createElement(p.a,{className:"mr-sm-2"},r.a.createElement(p.a.Prepend,null,r.a.createElement(p.a.Text,{id:"basic-addon1"},r.a.createElement("span",{role:"img","aria-label":"user-avatar-icon"},"\ud83d\udc64"))),r.a.createElement(g.a,{placeholder:"Username","aria-label":"Username","aria-describedby":"basic-addon1",defaultValue:e.username,disabled:!0}))),r.a.createElement(E.a,{inline:!0},r.a.createElement(f.a,{variant:"danger"},"Quit game"))))},F=function(e,a){var t=Object(n.useState)([]),r=Object(u.a)(t,2),c=r[0],l=r[1];return Object(n.useEffect)((function(){a&&e&&(a.emit("reqColumns",e),a.on("getColumns",(function(e){return l(e.concat(["Actions","Total"]))})))}),[e,a]),[c,l]},T=function(e,a,t){var r=Object(n.useState)([]),c=Object(u.a)(r,2),l=c[0],i=c[1];return Object(n.useEffect)((function(){a&&e&&(a.emit("reqHands",{gameId:e,userId:t}),a.on("getHands",(function(e){return i(e)})))}),[e,a,t]),[l,i]},V=function(e,a,t,r,c){var l=Object(n.useState)(null),i=Object(u.a)(l,2),m=i[0],s=i[1];return Object(n.useEffect)((function(){var n=d()(e);!a||0===Object.keys(a).length&&a.constructor===Object?(n.emit("reqUserId"),n.on("getUserId",(function(e){return t("userId",e,{maxAge:28800})}))):(n.emit("reqUsername",a),n.on("getUsername",(function(e){r(e),c(!0)}))),s(n)}),[e,a,t,r,c]),m};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement((function(){var e=Object(H.a)(["body-girl-animal-userId"]),a=Object(u.a)(e,3),t=a[0].userId,c=a[1],l=(a[2],Object(n.useState)(!1)),s=Object(u.a)(l,2),d=s[0],o=s[1],f=Object(n.useState)(""),b=Object(u.a)(f,2),E=b[0],p=b[1],g=V("http://worddd.cloudno.de",t,c,p,o),v=Object(n.useState)(null),I=Object(u.a)(v,2),S=I[0],y=I[1],j=F(S,g),O=Object(u.a)(j,2),k=O[0],x=O[1],U=T(S,g,t),G=Object(u.a)(U,2),q=G[0],J=G[1];return r.a.createElement(r.a.Fragment,null,null===S?r.a.createElement(h,{connection:g,setGameId:y,setColumns:x,setHands:J,saveUsername:function(e){g.emit("reqSaveUsername",{id:t,name:e}),g.on("getSaveUsername",(function(a){return a&&o(!0)&&p(e)}))},usernameSaved:d,setUsernameSaved:o,username:E}):r.a.createElement(r.a.Fragment,null,r.a.createElement(C,{username:E}),r.a.createElement(m.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,variant:"dark"},r.a.createElement("thead",null,r.a.createElement("tr",null,k.map((function(e,a){return r.a.createElement("th",{key:a},e)})))),r.a.createElement("tbody",null,r.a.createElement(N,{hands:q,setInputScore:function(e,a,t){var n=q.findIndex((function(e){return e.id===a})),r=Object(i.a)(q);r[n].inputs[t].score=Number(e),J(r)},setInputValue:function(e,a,t){var n=q.findIndex((function(e){return e.id===a})),r=Object(i.a)(q);r[n].inputs[t].value=e,J(r)},confirmHand:function(e){var a=q.findIndex((function(a){return a.id===e})),t=Object(i.a)(q);t[a].state="waiting",J(t)},submitHand:function(e){var a=q.findIndex((function(a){return a.id===e})),t=Object(i.a)(q);t[a].state="submitted",J(t)}}))),r.a.createElement(w,{columns:k,hands:q})))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},68:function(e,a,t){e.exports=t(111)},73:function(e,a,t){}},[[68,1,2]]]);
//# sourceMappingURL=main.9412dd0f.chunk.js.map